Historia de Usuario ‚Äì Ingesta de Datos desde MySQL a Capa Bronze
üßæ Historia de Usuario
ID de la Historia: DPL-BRONZE-001
Nombre: Ingesta de datos de MySQL hacia capa Bronze en formato Parquet
Como ingeniero de datos del equipo de plataforma,
quiero ingestar todos los datos de las tablas del esquema `etl_mvp` desde la base de datos MySQL hacia una capa de almacenamiento tipo Bronze,
para que los datos est√©n disponibles sin transformaciones en formato Parquet y particionados por fecha, facilitando su trazabilidad y exploraci√≥n inicial.
üìä Criterios Funcionales de Aceptaci√≥n
- Todas las tablas del esquema `etl_mvp` deben ser extra√≠das completas sin transformaci√≥n ni filtrado.
- Los datos deben almacenarse en formato Parquet en una estructura de carpetas tipo `bronze/{tabla}/year=2025/mes=04/d√≠a=10/`.
- El particionamiento por a√±o, mes y d√≠a debe basarse en los campos de fecha relevantes por tabla (ej. `fecha_registro`, `created_at`, `fecha_venta`, etc.).
- Se debe respetar la estructura y tipos de datos originales de las tablas fuente.
‚öôÔ∏è Criterios T√©cnicos de Aceptaci√≥n
- El proceso debe ser desarrollado en un script de Python.
- Los datos deben almacenarse como archivos Parquet con compresi√≥n Snappy.
- Se debe garantizar que cada ejecuci√≥n del pipeline identifique nuevos datos mediante control incremental (basado en fecha de corte o updated_at).
- El proceso debe registrar logs de ejecuci√≥n y manejar errores por tabla sin afectar el resto.
- Se debe generar una bit√°cora o reporte t√©cnico por carga con resumen de filas, fechas de corte y errores si los hubiera.
üìå Definition of Ready (DoR)
- [x] Conectividad validada con la base de datos `etl_mvp`.
- [x] Lista de tablas, campos y claves primarias definida.
- [x] Identificaci√≥n del campo de partici√≥n por fecha por cada tabla.
- [x] Acceso al sistema de archivos destino verificado (ej. S3/HDFS).
- [x] Historia priorizada en backlog t√©cnico.
‚úÖ Definition of Done (DoD)
- [x] Archivos Parquet generados y accesibles por tabla.
- [x] Particiones correctas por a√±o/mes/d√≠a.
- [x] Logs de ejecuci√≥n consolidados.
- [x] Validaci√≥n de integridad y recuento de registros realizada.
- [x] Documentaci√≥n publicada en confluence/repositorio sobre estructura de ingesti√≥n.
- [x] C√≥digo versionado en repositorio bajo path `etl/bronze/mysql_ingest/`.
üîÑ Dependencias
- Acceso a la base de datos MySQL.
- Configuraci√≥n de Airflow o motor de orquestaci√≥n.
- Permisos de escritura en el sistema de archivos destino.
üõ† Recomendaciones para Ingenier√≠a de Datos
- Usar extracci√≥n incremental siempre que sea posible.
- Registrar diferencias en esquema detectadas durante ingesta.
- Estandarizar nombres de columnas en min√∫sculas y sin espacios.
- Configurar alertas en caso de fallos de ejecuci√≥n por tabla.
